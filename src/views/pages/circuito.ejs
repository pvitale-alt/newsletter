<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="es">
    <meta name="language" content="Spanish">
    <title>Circuito Integral - Newsletter Unitrade</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
    <%- include('../partials/header', { activeMenu: 'circuito', adminSession: typeof adminSession !== 'undefined' ? adminSession : false }) %>
    
    <main class="main-content">
        <div class="page-header-panel">
            <div class="page-header">
                <div class="page-header-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="currentColor" style="color: var(--primary-color);">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="page-title newsletter">Circuito Integral</h1>
                    <p class="page-subtitle">Arquitectura completa de Unitrade</p>
                </div>
            </div>
        </div>

        <div class="page-container" style="max-width: 1600px; margin: 0 auto; padding: 40px;">
            <div class="circuit-container" style="min-height: 800px; position: relative;">
                <svg class="circuit-svg" id="circuitSvg" viewBox="0 0 1600 800" preserveAspectRatio="xMidYMid meet">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#5f6368" />
                        </marker>
                        <marker id="arrowhead-main" markerWidth="12" markerHeight="12" refX="11" refY="4" orient="auto">
                            <polygon points="0 0, 12 4, 0 8" fill="#00897b" />
                        </marker>
                        <marker id="arrowhead-green" markerWidth="12" markerHeight="12" refX="11" refY="4" orient="auto">
                            <polygon points="0 0, 12 4, 0 8" fill="#34a853" />
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>
    </main>
    
    <%- include('../partials/contact-panel') %>
    <%- include('../partials/footer') %>
    
    <script src="/js/main.js"></script>
    <script src="/js/circuit.js"></script>
    <% if (typeof adminSession !== 'undefined' && adminSession) { %>
    <script src="/js/circuit-editor.js"></script>
    <script>
        // Activar modo editor si adminSession estÃ¡ activo
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                if (typeof enableEditMode === 'function') {
                    enableEditMode();
                }
            }, 1000);
        });
    </script>
    <% } %>
</body>
</html>

